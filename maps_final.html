<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="shortcut icon" href="img/Frame 2.png">
        <link rel="apple-touch-icon" href="img/Frame 2.png">
        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap');
        </style>
        <link rel="stylesheet" href="queries.css" >
        <link rel="stylesheet" href="styles.css" >
        <title>What's Up Boiler Up</title>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin="">
      </script>
      <script src="Control.Geocoder.js"></script>
    </head>
    <body>
        <script src = "loadinformation.js"></script>
            <div class="container">
              <header class="navigation">
                <a href="index.html">
                  <img class="logo" alt="What's Up Logo logo" src="img/Frame 2.png" />
                </a>
          
                <nav class="main-nav">
                  <ul class="main-nav-list">
                    <li><a class="main-nav-link" href="index.html">Home</a></li>
                    <li><a class="main-nav-link" href="maps_final.html">Map</a></li>
                    <li><a class="main-nav-link" href="#">Filters</a></li>
                    <li><a class="main-nav-link" href="About.html">About</a></li>
                  </ul>
                </nav>
          
                <button class="btn-mobile-nav">
                  <ion-icon class="icon-mobile-nav" name="menu-outline"></ion-icon>
                  <ion-icon class="icon-mobile-nav" name="close-outline"></ion-icon>
                </button>
              </header>
          </div>
          <div id="map">
            <script>
                var map = L.map('map').setView([40.427075, -86.920077], 16);
                L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 20,
                minZoom: 15,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                }).addTo(map);
                x = window.innerWidth;
                y = window.innerHeight;
                document.getElementById("map").style.height = (y).toString() + "px";
                document.getElementById("map").style.width = (x).toString() + "px";
                map.invalidateSize();

                var myIcon = L.icon({iconUrl: 'img/Frame 2.png', iconSize: [50, 50]});

                var latitudes = [40.42748091070867, 40.426572907954764];
                var longitudes = [-86.91321281931104, -86.9268885076182];
                var markers = [];
                var popups = [];
                console.log(title_array[0]);
                for(var i = 0; i < 2; i++){
                    var mark = L.marker([latitudes[i], longitudes[i]], {icon: myIcon});
                    markers.push(mark);
                    markers[i].addTo(map);

                    var popupOptions = {className: "event-box", autoPan: false, closeButton: false};
                    var customDescription = ` <figure class="event">
                    <img src="img/image-2.png" alt="Picture of People in the Foreground of a Sunsetr" />
                    <div class="event-box">
                      <h2>` + title_array[i] + `</h2>
                    <ul class="event-details">
              <li>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="event-icon"
                  fill="none"
                  viewBox="0 0 15 15"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                <!-- Span is a generic INLINE text element, it doesn't have any meaning. It's like a div element, but inline -->
                <span>` + start_time[i] + " - " + end_time[i] `</span>
              </li>
              <li>
              <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="event-icon"
                  fill="none"
                  viewBox="0 0 15 15"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                <span>Location of Event</span>
              </li>
              <li>
                <svg
                xmlns="http://www.w3.org/2000/svg"
                class="event-icon"
                fill="none"
                viewBox="0 0 15 15"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"
                />
              </svg>
                
                <span>Organisation for Event</span>
              </li>
              <li>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="event-icon"
                  fill="none"
                  viewBox="0 0 15 15"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                  />
                </svg>
                <span>Description</span>
              </li>
                    </ul>
                   <div class="event-info">
              <a href="https://boilerlink.purdue.edu/events" class="btn btn--small">Learn More</a>
                    </div>
                    </div>
                    </figure>
                    `;
                    markers[i].bindPopup(customDescription,popupOptions).openPopup();
                    //var title_tag = document.getElementsByTagName("h3")[i];
                    //title_tag.innerHTML = title;
                    
                    //var markerLayer = marker.bindPopup(customDescription,popupOptions);
                    //markerLayer.openPopup();

                    //var markerLayer = marker.bindPopup(customDescription,popupOptions);
                    //popups.push(markerLayer);
                  }
                  //var markerLayer = marker.bindPopup(customDescription,popupOptions);
                  //markerLayer.openPopup();
                  /*let isClicked = false;
                    markerLayer.on({
                        mouseover: function() {
                        if(!isClicked) {
                        this.openPopup()
                        }
                      },
                    mouseout: function() { 
                        if(!isClicked) {
                        this.closePopup()
                        }
                      },
                    click: function() {
                    isClicked = true
                    this.openPopup()
                    }})
                    mymap.on({
                    
                        click: function() {
                        isClicked = false
                        },
                        popupclose: function () {
                        isClicked = false
                        }
                      })*/
            </script>
        </div>
        <script>
        var x, y = 0;
        window.onresize = function(event) {
            x = window.innerWidth;
            y = window.innerHeight;
            document.getElementById("map").style.height = (y).toString() + "px";
            document.getElementById("map").style.width = (x).toString() + "px";
        }
        </script>
    </body>
</html>